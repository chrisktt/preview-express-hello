# https://render.com/docs/yaml-spec
# deploy service on render.com

# Preview Environments | Render Â· Cloud Hosting for Developers
# https://render.com/docs/preview-environments
# Preview environment is a temporary service and URL that
#    is created when you issue a pull request
#    and deleted when you merge or reject the PR or after a time limit

previewsEnabled: true
previewsExpireAfterDays: 2
services:
    - type: web
      name: express-hello-world
      env: node
      previewPlan: starter
      autoDeploy: true # Immediately deploy upon push to git default branch
      buildCommand: yarn
      startCommand: yarn start

envVarGroups:
    - name: example
      envVars:
          - key: simple-key
            value: simple-value
    - name: production
      envVars:
          - key: NODE_ENV
            value: production
          - key: DB_URI
            value: production-uri
          - key: DB_PASS
            generateValue: true
          - key: DB_USER
            sync: false
    - name: test
      envVars:
          - key: NODE_ENV
            value: test
          - key: DB_URI
            value: test-uri
          - key: DB_PASS
            generateValue: true
          - key: DB_USER
            sync: false
